---
layout: default
---
<div class="f1-page">
  <!-- The SVG Track that weaves through everything -->
  <svg class="race-track-svg" viewBox="0 0 1000 2400" preserveAspectRatio="none" aria-hidden="true">
    <defs>
      <!-- Track gradient -->
      <linearGradient id="trackGradient" x1="0%" y1="0%" x2="100%" y2="0%">
        <stop offset="0%" style="stop-color:#1a1a1a;stop-opacity:1" />
        <stop offset="50%" style="stop-color:#2d2d2d;stop-opacity:1" />
        <stop offset="100%" style="stop-color:#1a1a1a;stop-opacity:1" />
      </linearGradient>
      
      <!-- Kerb pattern -->
      <pattern id="kerbPattern" patternUnits="userSpaceOnUse" width="20" height="20" patternTransform="rotate(45)">
        <rect width="10" height="20" fill="#e63946"/>
        <rect x="10" width="10" height="20" fill="#fff"/>
      </pattern>
      
      <!-- Racing line -->
      <linearGradient id="racingLine" x1="0%" y1="0%" x2="100%" y2="0%">
        <stop offset="0%" style="stop-color:#3498db;stop-opacity:0.6" />
        <stop offset="50%" style="stop-color:#2ecc71;stop-opacity:0.8" />
        <stop offset="100%" style="stop-color:#3498db;stop-opacity:0.6" />
      </linearGradient>
    </defs>
    
    <!-- The main track path - serpentine through the page -->
    <path id="trackPath" class="track-path" d="
      M -50 80
      C 200 80, 300 120, 500 120
      S 800 80, 900 150
      C 1000 220, 950 320, 800 350
      S 400 380, 300 450
      C 200 520, 100 600, 150 700
      S 400 800, 600 780
      C 800 760, 950 820, 900 920
      S 600 1000, 400 1050
      C 200 1100, 50 1180, 100 1280
      S 400 1380, 650 1350
      C 900 1320, 1050 1420, 950 1520
      S 550 1600, 350 1650
      C 150 1700, 50 1800, 150 1900
      S 500 2000, 750 1980
      C 1000 1960, 1100 2100, 900 2200
      S 400 2300, 100 2350
      L -50 2400
    "/>
    
    <!-- Track surface (wide) -->
    <use href="#trackPath" class="track-surface"/>
    
    <!-- Track outer edge -->
    <use href="#trackPath" class="track-edge track-outer"/>
    
    <!-- Track inner edge -->
    <use href="#trackPath" class="track-edge track-inner"/>
    
    <!-- Racing line (optimal path) -->
    <use href="#trackPath" class="racing-line"/>
    
    <!-- Start/Finish line -->
    <line x1="480" y1="100" x2="520" y2="140" class="start-finish-line"/>
    
    <!-- DRS Zones -->
    <text x="700" y="130" class="drs-text">DRS</text>
    <text x="250" y="470" class="drs-text">DRS</text>
    <text x="750" y="940" class="drs-text">DRS</text>
    
    <!-- Sector markers along the track -->
    <circle cx="300" cy="450" r="12" class="sector-marker"/>
    <text x="300" y="455" class="sector-text">S1</text>
    
    <circle cx="400" cy="1050" r="12" class="sector-marker"/>
    <text x="400" y="1055" class="sector-text">S2</text>
    
    <circle cx="350" cy="1650" r="12" class="sector-marker"/>
    <text x="350" y="1655" class="sector-text">S3</text>
  </svg>
  
  <!-- Animated F1 Cars -->
  <div class="f1-car car-1">
    <pre>▄█▄
●═●</pre>
  </div>
  <div class="f1-car car-2">
    <pre>▄█▄
●═●</pre>
  </div>
  <div class="f1-car car-3">
    <pre>▄█▄
●═●</pre>
  </div>

  <!-- Tire marks scattered around -->
  <div class="tire-mark" style="top: 15%; left: 70%; transform: rotate(-25deg);">═══</div>
  <div class="tire-mark" style="top: 35%; left: 20%; transform: rotate(15deg);">═══</div>
  <div class="tire-mark" style="top: 55%; left: 85%; transform: rotate(-40deg);">═══</div>
  <div class="tire-mark" style="top: 75%; left: 25%; transform: rotate(30deg);">═══</div>

  <!-- The actual content -->
  <div class="page-content">
    {{ content }}
  </div>

  <!-- Floating race elements -->
  <div class="race-overlay">
    <div class="lap-display">
      <span class="lap-label">LAP</span>
      <span class="lap-num" id="lapNum">1</span>
      <span class="lap-total">/∞</span>
    </div>
    
    <div class="speed-display">
      <span class="speed-num" id="speedNum">312</span>
      <span class="speed-unit">KM/H</span>
    </div>
  </div>
  
  <!-- Checkered flag finish area -->
  <div class="checkered-strip"></div>
</div>

<style>
/* ═══════════════════════════════════════════════════════════════════════
   F1 TRACK - Serpentine through the page
   ═══════════════════════════════════════════════════════════════════════ */

.f1-page {
  position: relative;
  min-height: 100vh;
  overflow: hidden;
}

/* SVG Track Layer */
.race-track-svg {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 0;
  pointer-events: none;
  opacity: 0.15;
}

.track-path {
  fill: none;
}

.track-surface {
  fill: none;
  stroke: var(--text-color);
  stroke-width: 60;
  stroke-linecap: round;
  stroke-linejoin: round;
  opacity: 0.08;
}

.track-edge {
  fill: none;
  stroke: var(--text-color);
  stroke-width: 2;
  stroke-linecap: round;
  opacity: 0.4;
}

.track-outer {
  stroke-width: 3;
  stroke-dasharray: none;
}

.track-inner {
  stroke-width: 1;
  stroke-dasharray: 8 4;
  opacity: 0.25;
}

.racing-line {
  fill: none;
  stroke: var(--text-color);
  stroke-width: 1;
  stroke-dasharray: 4 8;
  opacity: 0.2;
  animation: racingLinePulse 2s ease-in-out infinite;
}

@keyframes racingLinePulse {
  0%, 100% { opacity: 0.1; }
  50% { opacity: 0.3; }
}

.start-finish-line {
  stroke: var(--text-color);
  stroke-width: 8;
  stroke-dasharray: 8 8;
  opacity: 0.5;
}

.drs-text {
  font-family: 'Roboto Mono', monospace;
  font-size: 14px;
  font-weight: 700;
  fill: var(--text-color);
  opacity: 0.3;
  letter-spacing: 2px;
}

.sector-marker {
  fill: var(--background-color);
  stroke: var(--text-color);
  stroke-width: 2;
  opacity: 0.5;
}

.sector-text {
  font-family: 'Roboto Mono', monospace;
  font-size: 10px;
  font-weight: 700;
  fill: var(--text-color);
  text-anchor: middle;
  dominant-baseline: middle;
  opacity: 0.6;
}

/* F1 Cars - Following the track path */
.f1-car {
  position: fixed;
  font-family: 'Roboto Mono', monospace;
  font-size: 12px;
  line-height: 1;
  color: var(--text-color);
  white-space: pre;
  pointer-events: none;
  z-index: 100;
  opacity: 0.7;
  offset-path: path('M -50 80 C 200 80, 300 120, 500 120 S 800 80, 900 150 C 1000 220, 950 320, 800 350 S 400 380, 300 450 C 200 520, 100 600, 150 700 S 400 800, 600 780 C 800 760, 950 820, 900 920 S 600 1000, 400 1050 C 200 1100, 50 1180, 100 1280 S 400 1380, 650 1350 C 900 1320, 1050 1420, 950 1520 S 550 1600, 350 1650 C 150 1700, 50 1800, 150 1900 S 500 2000, 750 1980 C 1000 1960, 1100 2100, 900 2200 S 400 2300, 100 2350 L -50 2400');
  offset-rotate: auto;
  animation: drivePath 20s linear infinite;
}

.f1-car pre {
  margin: 0;
  padding: 0;
  background: transparent;
  border: none;
  font-size: inherit;
  line-height: 1;
}

.car-1 {
  animation-duration: 18s;
  color: #e63946;
}

.car-2 {
  animation-duration: 20s;
  animation-delay: -7s;
  color: #2a9d8f;
}

.car-3 {
  animation-duration: 22s;
  animation-delay: -14s;
  color: #e9c46a;
}

@keyframes drivePath {
  0% {
    offset-distance: 0%;
  }
  100% {
    offset-distance: 100%;
  }
}

/* Tire marks */
.tire-mark {
  position: absolute;
  font-family: 'Roboto Mono', monospace;
  font-size: 20px;
  color: var(--text-color);
  opacity: 0.08;
  pointer-events: none;
  letter-spacing: -2px;
}

/* Page Content - Above the track */
.page-content {
  position: relative;
  z-index: 10;
}

/* Race Overlay - HUD elements */
.race-overlay {
  position: fixed;
  top: 20px;
  right: 20px;
  z-index: 1000;
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: 8px;
  font-family: 'Roboto Mono', monospace;
  pointer-events: none;
  opacity: 0.6;
}

.lap-display {
  display: flex;
  align-items: baseline;
  gap: 4px;
  background: var(--background-color);
  padding: 6px 12px;
  border: 1px solid var(--border-color);
}

.lap-label {
  font-size: 9px;
  letter-spacing: 0.1em;
  color: var(--secondary-text-color);
}

.lap-num {
  font-size: 20px;
  font-weight: 700;
  color: var(--text-color);
}

.lap-total {
  font-size: 12px;
  color: var(--secondary-text-color);
}

.speed-display {
  display: flex;
  align-items: baseline;
  gap: 4px;
  background: var(--background-color);
  padding: 4px 10px;
  border: 1px solid var(--border-color);
}

.speed-num {
  font-size: 16px;
  font-weight: 700;
  color: var(--text-color);
  font-variant-numeric: tabular-nums;
}

.speed-unit {
  font-size: 8px;
  color: var(--secondary-text-color);
}

/* Checkered strip at the bottom */
.checkered-strip {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  height: 6px;
  background: repeating-linear-gradient(
    90deg,
    var(--text-color) 0px,
    var(--text-color) 6px,
    var(--background-color) 6px,
    var(--background-color) 12px
  );
  opacity: 0.3;
  z-index: 1000;
}

/* Responsive - Simplify on mobile */
@media (max-width: 768px) {
  .race-track-svg {
    opacity: 0.08;
  }
  
  .f1-car {
    display: none;
  }
  
  .race-overlay {
    top: auto;
    bottom: 20px;
    right: 10px;
  }
  
  .lap-display,
  .speed-display {
    padding: 4px 8px;
  }
  
  .lap-num {
    font-size: 16px;
  }
  
  .tire-mark {
    display: none;
  }
}

/* Smooth scroll behavior for the race feel */
html {
  scroll-behavior: smooth;
}

/* Enhance content readability over track */
.page-content h1,
.page-content h2,
.page-content h3,
.page-content p,
.page-content li,
.page-content a {
  position: relative;
}

/* Subtle track crossing effect on headings */
.page-content h3::before {
  content: '';
  position: absolute;
  left: -20px;
  right: -20px;
  top: 50%;
  height: 1px;
  background: linear-gradient(90deg, transparent, var(--border-color), transparent);
  opacity: 0.3;
  z-index: -1;
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const lapNum = document.getElementById('lapNum');
  const speedNum = document.getElementById('speedNum');
  let lap = 1;
  
  // Update lap counter when cars complete a lap
  setInterval(() => {
    lap++;
    if (lap > 99) lap = 1;
    lapNum.textContent = lap;
  }, 18000); // Match car-1 duration
  
  // Fluctuate speed based on scroll position (simulating track sections)
  let lastScroll = 0;
  const baseSpeed = 280;
  
  function updateSpeed() {
    const scrollY = window.scrollY;
    const scrollDelta = Math.abs(scrollY - lastScroll);
    const scrollSpeed = Math.min(scrollDelta * 2, 50);
    
    // Vary speed: faster on straights (middle of page), slower at top/bottom (corners)
    const pageHeight = document.body.scrollHeight - window.innerHeight;
    const scrollPercent = pageHeight > 0 ? scrollY / pageHeight : 0;
    const trackPosition = Math.sin(scrollPercent * Math.PI * 4); // Multiple "straights"
    
    const speed = Math.round(baseSpeed + (trackPosition * 30) + scrollSpeed);
    speedNum.textContent = Math.max(180, Math.min(340, speed));
    
    lastScroll = scrollY;
  }
  
  window.addEventListener('scroll', updateSpeed);
  
  // Random speed fluctuations even when not scrolling
  setInterval(() => {
    const currentSpeed = parseInt(speedNum.textContent);
    const fluctuation = (Math.random() - 0.5) * 20;
    const newSpeed = Math.round(currentSpeed + fluctuation);
    speedNum.textContent = Math.max(180, Math.min(340, newSpeed));
  }, 500);
  
  // Parallax effect on track based on scroll
  const trackSvg = document.querySelector('.race-track-svg');
  window.addEventListener('scroll', () => {
    const scrollY = window.scrollY;
    const translateY = scrollY * 0.1;
    trackSvg.style.transform = `translateY(${translateY}px)`;
  });
});
</script>
