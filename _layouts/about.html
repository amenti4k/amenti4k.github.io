---
layout: default
---
<div class="f1-page">
  {{ content }}
</div>

<style>
.f1-page {
  position: relative;
}

/* ═══════════════════════════════════════════════════════════════════════
   TRACK SECTIONS - Horizontal flybys between content
   ═══════════════════════════════════════════════════════════════════════ */

.track-section {
  position: relative;
  height: 60px;
  margin: 3rem -32px;
  overflow: hidden;
  display: flex;
  align-items: center;
}

/* Track surface */
.track-section::before {
  content: '';
  position: absolute;
  left: 0;
  right: 0;
  top: 50%;
  transform: translateY(-50%);
  height: 40px;
  background: var(--text-color);
  opacity: 0.06;
}

/* Track lines */
.track-section::after {
  content: '';
  position: absolute;
  left: 0;
  right: 0;
  top: 50%;
  transform: translateY(-50%);
  height: 40px;
  border-top: 2px solid var(--text-color);
  border-bottom: 2px solid var(--text-color);
  opacity: 0.15;
}

/* Kerb strips */
.track-kerb {
  position: absolute;
  left: 0;
  right: 0;
  height: 6px;
  background: repeating-linear-gradient(
    90deg,
    #e63946 0px,
    #e63946 12px,
    #fff 12px,
    #fff 24px
  );
  opacity: 0.7;
}

.track-kerb.top {
  top: calc(50% - 23px);
}

.track-kerb.bottom {
  top: calc(50% + 17px);
}

/* Racing line (dashed center) */
.racing-line {
  position: absolute;
  left: 0;
  right: 0;
  top: 50%;
  height: 2px;
  background: repeating-linear-gradient(
    90deg,
    var(--text-color) 0px,
    var(--text-color) 20px,
    transparent 20px,
    transparent 40px
  );
  opacity: 0.1;
}

/* ═══════════════════════════════════════════════════════════════════════
   F1 CARS
   ═══════════════════════════════════════════════════════════════════════ */

.f1-car {
  position: absolute;
  top: 50%;
  transform: translateY(-50%) translateX(-100px);
  font-family: 'Roboto Mono', monospace;
  font-size: 11px;
  line-height: 1;
  white-space: pre;
  opacity: 0;
  pointer-events: none;
  z-index: 10;
}

.f1-car pre {
  margin: 0;
  padding: 0;
  background: transparent;
  border: none;
  font-size: inherit;
  line-height: 1.1;
}

/* Car colors */
.car-ferrari { color: #e63946; }
.car-mercedes { color: #00d2be; }
.car-redbull { color: #1e3a8a; }
.car-mclaren { color: #ff8000; }

/* Flyby animation */
.f1-car.fly {
  animation: flyby 1.2s cubic-bezier(0.25, 0.1, 0.25, 1) forwards;
}

.f1-car.fly-reverse {
  animation: flyby-reverse 1.4s cubic-bezier(0.25, 0.1, 0.25, 1) forwards;
}

@keyframes flyby {
  0% {
    transform: translateY(-50%) translateX(-150px);
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  90% {
    opacity: 1;
  }
  100% {
    transform: translateY(-50%) translateX(calc(100vw + 150px));
    opacity: 0;
  }
}

@keyframes flyby-reverse {
  0% {
    transform: translateY(-50%) translateX(calc(100vw + 150px)) scaleX(-1);
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  90% {
    opacity: 1;
  }
  100% {
    transform: translateY(-50%) translateX(-150px) scaleX(-1);
    opacity: 0;
  }
}

/* Speed blur effect */
.f1-car.fly::after,
.f1-car.fly-reverse::after {
  content: '';
  position: absolute;
  top: 50%;
  left: -40px;
  width: 50px;
  height: 3px;
  background: linear-gradient(90deg, transparent, currentColor);
  opacity: 0.4;
  transform: translateY(-50%);
}

.f1-car.fly-reverse::after {
  left: auto;
  right: -40px;
  background: linear-gradient(-90deg, transparent, currentColor);
}

/* ═══════════════════════════════════════════════════════════════════════
   SECTION LABELS (optional corner markers)
   ═══════════════════════════════════════════════════════════════════════ */

.track-label {
  position: absolute;
  right: 40px;
  top: 50%;
  transform: translateY(-50%);
  font-family: 'Roboto Mono', monospace;
  font-size: 9px;
  letter-spacing: 0.15em;
  color: var(--secondary-text-color);
  opacity: 0.5;
}

/* ═══════════════════════════════════════════════════════════════════════
   RESPONSIVE
   ═══════════════════════════════════════════════════════════════════════ */

@media (max-width: 768px) {
  .track-section {
    margin: 2rem -20px;
    height: 50px;
  }
  
  .f1-car {
    font-size: 9px;
  }
  
  .track-label {
    display: none;
  }
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
  // Car ASCII designs (multiple for variety)
  const carDesigns = [
    `  ▄▄▄
▓▟███▙▓
 ●═══●`,
    `  ▁▁▁
▕████▏
 ●══●`,
    ` ▄███▄
▐█████▌
 ●═══●`
  ];
  
  // Find all horizontal rules (---) and transform them into track sections
  const hrs = document.querySelectorAll('.f1-page hr');
  
  hrs.forEach((hr, index) => {
    // Create track section
    const track = document.createElement('div');
    track.className = 'track-section';
    track.setAttribute('data-track', index);
    
    // Add kerbs
    const kerbTop = document.createElement('div');
    kerbTop.className = 'track-kerb top';
    track.appendChild(kerbTop);
    
    const kerbBottom = document.createElement('div');
    kerbBottom.className = 'track-kerb bottom';
    track.appendChild(kerbBottom);
    
    // Add racing line
    const racingLine = document.createElement('div');
    racingLine.className = 'racing-line';
    track.appendChild(racingLine);
    
    // Add car
    const car = document.createElement('div');
    const carColors = ['car-ferrari', 'car-mercedes', 'car-redbull', 'car-mclaren'];
    car.className = `f1-car ${carColors[index % carColors.length]}`;
    
    const carPre = document.createElement('pre');
    carPre.textContent = carDesigns[index % carDesigns.length];
    car.appendChild(carPre);
    track.appendChild(car);
    
    // Add subtle label
    const label = document.createElement('div');
    label.className = 'track-label';
    label.textContent = `T${index + 1}`;
    track.appendChild(label);
    
    // Replace hr with track
    hr.parentNode.replaceChild(track, hr);
  });
  
  // Intersection Observer for triggering flybys
  const trackSections = document.querySelectorAll('.track-section');
  const triggered = new Set();
  
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        const trackIndex = entry.target.getAttribute('data-track');
        
        // Only trigger once per page load
        if (!triggered.has(trackIndex)) {
          triggered.add(trackIndex);
          
          const car = entry.target.querySelector('.f1-car');
          if (car) {
            // Alternate direction
            const direction = parseInt(trackIndex) % 2 === 0 ? 'fly' : 'fly-reverse';
            car.classList.add(direction);
            
            // Reset after animation for potential re-trigger
            setTimeout(() => {
              car.classList.remove(direction);
              triggered.delete(trackIndex);
            }, 3000);
          }
        }
      }
    });
  }, {
    threshold: 0.5,
    rootMargin: '0px'
  });
  
  trackSections.forEach(section => observer.observe(section));
});
</script>
