---
layout: default
---

<article class="post">
    <h1>{{ page.title }}</h1>
    <p class="post-meta">
        {{ page.date | date: "%Y-%m-%d" }}
        <button onclick="sharePost()" class="share-btn">
            Share ðŸ“¤
        </button>
    </p>
    <div class="post-content">
        {{ content }}
    </div>
</article>

<script>
function sharePost() {
    const url = window.location.href;
    navigator.clipboard.writeText(url);
    alert('Link copied to clipboard!');
}

// Additional Mermaid processing for posts
document.addEventListener('DOMContentLoaded', function() {
    // Debug: Log what we find
    console.log('Looking for mermaid blocks...');
    
    // Try multiple selectors
    const mermaidBlocks = document.querySelectorAll('code.language-mermaid, pre > code.language-mermaid');
    console.log('Found ' + mermaidBlocks.length + ' mermaid blocks');
    
    mermaidBlocks.forEach(function(block, index) {
        console.log('Processing mermaid block ' + index);
        const mermaidCode = block.textContent;
        
        // Create mermaid div
        const mermaidDiv = document.createElement('div');
        mermaidDiv.className = 'mermaid';
        mermaidDiv.textContent = mermaidCode;
        
        // Find container to replace
        let container = block.parentElement;
        if (container && container.tagName === 'PRE') {
            container.parentNode.replaceChild(mermaidDiv, container);
        }
    });
    
    // Run mermaid if available
    if (typeof mermaid !== 'undefined') {
        console.log('Running mermaid...');
        mermaid.run();
    }
});
</script>

<style>
    .post h1 {
        font-size: 1.5em;
        margin-bottom: 5px;
    }
    .post-meta {
        color: #777;
        font-size: 0.8em;
        margin-bottom: 20px;
    }
    .post-content {
        font-size: 0.95em;
    }
    .post-content img {
        max-width: 90%;
        height: auto;
        display: block;
        margin: 20px auto;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    @media (max-width: 600px) {
        .post-content img {
            max-width: 100%;
        }
    }
    .share-btn {
        float: right;
        background: none;
        border: 1px solid var(--border-color);
        padding: 0.3rem 0.8rem;
        border-radius: 15px;
        cursor: pointer;
        font-size: 0.8em;
        transition: all 0.2s ease;
    }

    .share-btn:hover {
        background: var(--text-color);
        color: white;
    }
</style>
